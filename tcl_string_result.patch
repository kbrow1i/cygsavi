--- origsrc/savi1.5.0/src/tcl_utils.c	2016-02-09 00:11:49.000000000 -0500
+++ src/savi1.5.0/src/tcl_utils.c	2017-06-23 16:59:15.224084100 -0400
@@ -87,7 +87,11 @@ tk_init(Tcl_Interp * interpreter)
 
 #if ( (TK_MAJOR_VERSION > 4) || ( (TK_MAJOR_VERSION == 4) && (TK_MINOR_VERSION > 0)) )
   if (!(mainWindow = Tk_CreateWindow(interpreter, screenName, baseName, className))) {
+#  if (TK_MAJOR_VERSION >= 8)
+    error_format("tk_init: Can't create main wainWindow: %s", Tcl_GetStringResult(interpreter));
+#  else
     error_format("tk_init: Can't create main wainWindow: %s", interpreter->result);
+#  endif
     return FALSE;
   }
 #else
@@ -297,7 +301,11 @@ unsigned int
 tcl_script(char script[])
 {
   if (Tcl_GlobalEval(interp, script) == TCL_ERROR) {
+#if (TK_MAJOR_VERSION >= 8)
+    error_format("tcl_error: %s", Tcl_GetStringResult(interp));
+#else
     error_format("tcl_error: %s", interp->result);
+#endif
     return FALSE;
   }
   return TRUE;
